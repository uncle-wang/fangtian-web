var errorText=$(".error-text"),showError=function(r){errorText.text(r).show()},hideError=function(r){errorText.text("").hide()},infoText=$(".info-text"),showInfo=function(r){infoText.text(r).show()},turnToPage=function(r){setTimeout(function(){window.location.href=r},1e3)};$("#register_form").submit(function(){var r=$('input[name="username"]').val(),o=$('input[name="password"]').val(),e=$('input[name="nickname"]').val(),t=$('input[name="password2"]').val();return hideError(),r&&o&&t&&e?o!==t?showError("两次密码不一致"):$.ajax({url:"/api/register",data:{username:r,password:o,nickname:e},success:function(r){1e3===r.status?(showInfo("注册成功，即将自动跳转..."),turnToPage("index.html")):2001===r.status?showError("用户名已存在"):showError("无法连接服务器，请稍后重试")}}):showError("请填写空白项"),!1});