$(document).ready(function(){var t=$(".error-text"),e=function(e){t.text(e).show()},n=$(".info-text");$("#register_form").submit(function(){var a=$('input[name="username"]').val(),i=$('input[name="password"]').val(),r=$('input[name="nickname"]').val(),s=$('input[name="password2"]').val();return t.text("").hide(),a&&i&&s&&r?i!==s?e("两次密码不一致"):$.ajax({url:"/api/register",data:{username:a,password:i,nickname:r},success:function(t){var a,i;1e3===t.status?(i="注册成功，即将自动跳转...",n.text(i).show(),a="index.html",setTimeout(function(){window.location.href=a},1e3)):2001===t.status?e("用户名已存在"):e("无法连接服务器，请稍后重试")}}):e("请填写空白项"),!1})});