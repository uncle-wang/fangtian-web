<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<title>创建订单</title>
		<style type="text/css">
			div {
				text-align: center;
			}
			span {
				display: inline-block;
				width: 36px;
				text-align: right;
				padding-right: 8px;
			}
			input, select {
				width: 168px;
				height: 24px;
				border: 1px solid #000;
				border-radius: 3px;
				background-color: #fff;
				padding: 0;
				margin: 24px 0 0;
				font-size: 16px;
			}
		</style>
	</head>
	<body>
		<form id="login_form">
			<div>
				<span>金额</span>
				<select name="quota">
					<option value="100">100</option>
					<option value="200">200</option>
					<option value="500">500</option>
					<option value="1000">1000</option>
				</select>
			</div>
			<div>
				<span>类型</span>
				<select name="type">
					<option value="0">双</option>
					<option value="1">单</option>
				</select>
			</div>
			<div><input type="submit" value="提交"></div>
		</form>
		<script type="text/javascript" src="../lib/jquery.min.js"></script>
		<script type="text/javascript">
			$('#login_form').submit(function() {
				var quota = $('select[name="quota"]').val();
				var type = $('select[name="type"]').val();
				if (quota && type) {
					$.ajax({
						url: '/api/createOrder',
						data: {
							quota: quota,
							type: type
						},
						success: function(data) {
							if (data.status === 1000) {
								window.location.href = 'index.html';
							}
							else if (data.desc) {
								alert(data.desc);
							}
							else {
								alert(data.status);
							}
						}
					});
				}
				else {
					alert('请选择金额和类型');
				}
				return false;
			});
		</script>
	</body>
</html>